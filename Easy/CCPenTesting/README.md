# CC: Pen Testing

## Section 1 - Network Utilities

### nmap

* `Network Mapper`
* `-p`
* `-sn`
* `-sU`
* `-sC`
* `-A`
* `-O`
* `-sV`
* `1` - This and all of the following questions can be answered from the `nmap.log` file which is the output of running `nmap -sC -sV 10.10.163.67`
* `Apache`
* `2.4.18`
* `Apache2 Ubuntu Default Page: It Works`

### netcat

* `-l`
* `-v`
* `-p`
* `-e`
* `-u`

## Section 2 - Web Enumeration

### gobuster

* `dir`
* `dns`
* `-x`
* `-w`
* `-U`
* `-P`
* `-s`
* `-k`
* `-a`
* `-H`
* `-u`
* `secret` - Refer to `gobuster.log`
* `password`

### nikto

* `-h`
* `-nossl`
* `-ssl`
* `-id`
* `-plugins`
* `apacheusers`
* `-update`
* `--list-plugins`

## Section 3 - Metasploit

### Setting Up

* `search`
* `use`
* `info`
* `options`
* `advanced`
* `show`

### Selecting a module

* `use exploit/windows/smb/ms17_010_eternalblue`
* `RHOSTS`
* `RPORT`
* `set`
* `set SMBPass username`
* `set SMBUser password`
* `arch`
* `payload`
* `exploit`
* `-j`
* `sessions`
* `-i`

### meterpreter

* `download`
* `upload`
* `ps`
* `migrate`
* `ls`
* `execute`
* `shell`
* `search`
* `cat`
* `background`

### Final Walkthrough
* `use exploit/multi/http/nostromo_code_exec`
* `rhosts`
* `set rport 80`
* `lhost`
* `s3cretd1r`
* `Woohoo!`

## Section 4 - Hash Cracking

### hashcat

* `-m`
* `-a`
* `3`
* `17600`
* `happy`
* `nootnoot`
* ``

### John The Ripper

* `--wordlist`
* `--format`
* `--rules`
* `hello`
* `password`

## Section 5 - SQL Injection

### sqlmap

* `-u`
* `-g`
* `-p`
* `--dbms`
* `--level`
* `--dump`
* `-D`
* `-T`
* `-C`
* `--os-shell`
* `--dump-all`

### Vulnerable Web Applicaion

* `3`
* `tests`
* `2`
* `found_me`

## Section 6 - Samba

### smbmap

* `-u`
* `-p`
* `-H`
* `-x`
* `-s`
* `-d`
* `--download`
* `--upload`
* `smbmap -u "admin" -p "password" -H 10.10.10.10 -x "ipconfig"`

### smbclient

* `-w`
* `-l`
* `-c "ipconfig"`
* `-U`
* `-P`
* `-N`
* `get test`
* `put /etc/hosts`

## Section 7 - Final Exam

Running an `nmap` scan on the IP we can see that there are 2 ports open being 22 (ssh) and 80 (apache web server). The `index` page of the website is the default apache page so we can instead look for hidden directories/files. Running `gobuster` on the website we can see that there is a directory called `secret` that is completely blank. Running another `gobuster` scan with `-x php,html,js,py,txt` we can see that there is a file called `secret.txt`. It contains `nyan:046385855FC9580393853D8E81F240B66FE9A7B8` which seems to be a username and password combination with the password being hashed. 

With running either of JTR or hashcat (or crackstation) we can see that it is a SHA1 hash which is equal to `nyan`. We can try to `ssh` into the server now with `nyan` as the username and password and it works! The `user.txt` flag is `supernootnoot`.

At this stage I used `scp` to copy `linpeas` over to make privesc a tad bit easier. It showed that the user `nyan` was part of the `sudo` group so I tried running `sudo bash`, but the user is not allowed to use `sudo bash`. I then tried running `sudo -l` to see what commands I could run and saw that `su` was a valid command which is easy privesc with `sudo su`. After getting the root shell we can simply navigate to the root directory and find the flag `congratulations!!!!`.